{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 206, "column": 0}, "map": {"version":3,"sources":["file:///Users/harryyang/hw-6-auth-and-deploy-harry-yangmath/database/schema/auth.ts"],"sourcesContent":["import { pgTable, text, integer, timestamp, boolean } from \"drizzle-orm/pg-core\";\n\t\t\t\nexport const users = pgTable(\"users\", {\n\t\t\t\t\tid: text(\"id\").primaryKey(),\n\t\t\t\t\tname: text('name').notNull(),\n email: text('email').notNull().unique(),\n emailVerified: boolean('email_verified').notNull(),\n image: text('image'),\n createdAt: timestamp('created_at').notNull(),\n updatedAt: timestamp('updated_at').notNull()\n\t\t\t\t});\n\nexport const sessions = pgTable(\"sessions\", {\n\t\t\t\t\tid: text(\"id\").primaryKey(),\n\t\t\t\t\texpiresAt: timestamp('expires_at').notNull(),\n token: text('token').notNull().unique(),\n createdAt: timestamp('created_at').notNull(),\n updatedAt: timestamp('updated_at').notNull(),\n ipAddress: text('ip_address'),\n userAgent: text('user_agent'),\n userId: text('user_id').notNull().references(()=> users.id, { onDelete: 'cascade' })\n\t\t\t\t});\n\nexport const accounts = pgTable(\"accounts\", {\n\t\t\t\t\tid: text(\"id\").primaryKey(),\n\t\t\t\t\taccountId: text('account_id').notNull(),\n providerId: text('provider_id').notNull(),\n userId: text('user_id').notNull().references(()=> users.id, { onDelete: 'cascade' }),\n accessToken: text('access_token'),\n refreshToken: text('refresh_token'),\n idToken: text('id_token'),\n accessTokenExpiresAt: timestamp('access_token_expires_at'),\n refreshTokenExpiresAt: timestamp('refresh_token_expires_at'),\n scope: text('scope'),\n password: text('password'),\n createdAt: timestamp('created_at').notNull(),\n updatedAt: timestamp('updated_at').notNull()\n\t\t\t\t});\n\nexport const verifications = pgTable(\"verifications\", {\n\t\t\t\t\tid: text(\"id\").primaryKey(),\n\t\t\t\t\tidentifier: text('identifier').notNull(),\n value: text('value').notNull(),\n expiresAt: timestamp('expires_at').notNull(),\n createdAt: timestamp('created_at'),\n updatedAt: timestamp('updated_at')\n\t\t\t\t});\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 269, "column": 0}, "map": {"version":3,"sources":["file:///Users/harryyang/hw-6-auth-and-deploy-harry-yangmath/database/schema/todos.ts"],"sourcesContent":["import { boolean, pgTable, text, timestamp, uuid } from \"drizzle-orm/pg-core\"\n\nimport { users } from \"./auth\"\nimport { relations } from \"drizzle-orm\"\nimport { createSelectSchema, createInsertSchema } from \"drizzle-zod\"\nimport { z } from \"zod\"\n\n\nexport const todos = pgTable(\"todos\", {\n    id: uuid(\"id\").primaryKey().defaultRandom(),\n    title: text(\"title\").notNull(),\n    completed: boolean(\"completed\").notNull().default(false),\n    createdAt: timestamp(\"created_at\").notNull().defaultNow(),\n    updatedAt: timestamp(\"updated_at\").notNull().defaultNow(),\n    userId: text(\"user_id\")\n        .notNull()\n        .references(() => users.id, { onDelete: \"cascade\" })\n})\n\nexport const usersRelations = relations(users, ({ many }) => ({\n    todos: many(todos),\n}))\n\nexport const todosRelations = relations(todos, ({ one }) => ({\n    user: one(users, {\n        fields: [todos.userId],\n        references: [users.id],\n    }),\n}))\n\n\nexport const selectUserSchema = createSelectSchema(users);\nexport type User = z.infer<typeof selectUserSchema>;\n\nexport const selectTodoSchema = createSelectSchema(todos);\nexport type Todo = z.infer<typeof selectTodoSchema>;\n\nexport const insertTodoSchema = createInsertSchema(todos, {\n  title: (schema: z.ZodString) => schema.nonempty(\"Title cannot be empty\"),\n})\nexport type NewTodo = z.infer<typeof insertTodoSchema>;\n\nexport default {\n  users,\n  todos\n};"],"names":[],"mappings":";;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;;;;;AAIO,MAAM,QAAQ,CAAA,GAAA,uJAAA,CAAA,UAAO,AAAD,EAAE,SAAS;IAClC,IAAI,CAAA,GAAA,iKAAA,CAAA,OAAI,AAAD,EAAE,MAAM,UAAU,GAAG,aAAa;IACzC,OAAO,CAAA,GAAA,iKAAA,CAAA,OAAI,AAAD,EAAE,SAAS,OAAO;IAC5B,WAAW,CAAA,GAAA,oKAAA,CAAA,UAAO,AAAD,EAAE,aAAa,OAAO,GAAG,OAAO,CAAC;IAClD,WAAW,CAAA,GAAA,sKAAA,CAAA,YAAS,AAAD,EAAE,cAAc,OAAO,GAAG,UAAU;IACvD,WAAW,CAAA,GAAA,sKAAA,CAAA,YAAS,AAAD,EAAE,cAAc,OAAO,GAAG,UAAU;IACvD,QAAQ,CAAA,GAAA,iKAAA,CAAA,OAAI,AAAD,EAAE,WACR,OAAO,GACP,UAAU,CAAC,IAAM,4HAAA,CAAA,QAAK,CAAC,EAAE,EAAE;QAAE,UAAU;IAAU;AAC1D;AAEO,MAAM,iBAAiB,CAAA,GAAA,6IAAA,CAAA,YAAS,AAAD,EAAE,4HAAA,CAAA,QAAK,EAAE,CAAC,EAAE,IAAI,EAAE,GAAK,CAAC;QAC1D,OAAO,KAAK;IAChB,CAAC;AAEM,MAAM,iBAAiB,CAAA,GAAA,6IAAA,CAAA,YAAS,AAAD,EAAE,OAAO,CAAC,EAAE,GAAG,EAAE,GAAK,CAAC;QACzD,MAAM,IAAI,4HAAA,CAAA,QAAK,EAAE;YACb,QAAQ;gBAAC,MAAM,MAAM;aAAC;YACtB,YAAY;gBAAC,4HAAA,CAAA,QAAK,CAAC,EAAE;aAAC;QAC1B;IACJ,CAAC;AAGM,MAAM,mBAAmB,CAAA,GAAA,0IAAA,CAAA,qBAAkB,AAAD,EAAE,4HAAA,CAAA,QAAK;AAGjD,MAAM,mBAAmB,CAAA,GAAA,0IAAA,CAAA,qBAAkB,AAAD,EAAE;AAG5C,MAAM,mBAAmB,CAAA,GAAA,0IAAA,CAAA,qBAAkB,AAAD,EAAE,OAAO;IACxD,OAAO,CAAC,SAAwB,OAAO,QAAQ,CAAC;AAClD;uCAGe;IACb,OAAA,4HAAA,CAAA,QAAK;IACL;AACF","debugId":null}},
    {"offset": {"line": 328, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 388, "column": 0}, "map": {"version":3,"sources":["file:///Users/harryyang/hw-6-auth-and-deploy-harry-yangmath/database/db.ts"],"sourcesContent":["import \"dotenv/config\"\n\nimport { neonConfig, Pool } from '@neondatabase/serverless';\nimport { drizzle } from 'drizzle-orm/neon-serverless';\nimport { WebSocket } from 'ws';\n\nimport * as schema from './schema';\n\nconst connectionString =\n  process.env.NODE_ENV === 'production' ? process.env.DATABASE_URL : process.env.LOCAL_DATABASE_URL;\n\nif (process.env.NODE_ENV === 'production') {\n  neonConfig.webSocketConstructor = WebSocket;\n  neonConfig.poolQueryViaFetch = true;\n} else {\n  neonConfig.wsProxy = (host) => `${host}:5433/v1`;\n  neonConfig.useSecureWebSocket = false;\n  neonConfig.pipelineTLS = false;\n  neonConfig.pipelineConnect = false;\n}\n\nconst pool = new Pool({ connectionString });\n\nexport const db = drizzle(pool, { schema });\n"],"names":[],"mappings":";;;AAAA;AAEA;AACA;AACA;AAEA;AAAA;;;;;;AAEA,MAAM,mBACJ,6EAAmE,QAAQ,GAAG,CAAC,kBAAkB;AAEnG,uCAA2C;;AAG3C,OAAO;IACL,wJAAA,CAAA,aAAU,CAAC,OAAO,GAAG,CAAC,OAAS,GAAG,KAAK,QAAQ,CAAC;IAChD,wJAAA,CAAA,aAAU,CAAC,kBAAkB,GAAG;IAChC,wJAAA,CAAA,aAAU,CAAC,WAAW,GAAG;IACzB,wJAAA,CAAA,aAAU,CAAC,eAAe,GAAG;AAC/B;AAEA,MAAM,OAAO,IAAI,wJAAA,CAAA,OAAI,CAAC;IAAE;AAAiB;AAElC,MAAM,KAAK,CAAA,GAAA,gKAAA,CAAA,UAAO,AAAD,EAAE,MAAM;IAAE,QAAA;AAAO","debugId":null}},
    {"offset": {"line": 423, "column": 0}, "map": {"version":3,"sources":["file:///Users/harryyang/hw-6-auth-and-deploy-harry-yangmath/lib/auth.ts"],"sourcesContent":["import { betterAuth } from \"better-auth\"\nimport { drizzleAdapter } from \"better-auth/adapters/drizzle\"\n\nimport { db } from \"@/database/db\"\nimport * as schema from \"@/database/schema\"\nimport { nextCookies } from \"better-auth/next-js\"\n\nexport const auth = betterAuth({\n    database: drizzleAdapter(db, {\n        provider: \"pg\",\n        usePlural: true,\n        schema\n    }),\n    session: {\n        cookieCache: {\n            enabled: true,\n            // Cache duration in seconds.\n            // set to 5 mins for development; \n            // could be a week or longer in production\n            maxAge: 5 * 60 \n        }\n    },\n    emailAndPassword: {\n        enabled: true\n    },\n    plugins: [\n        nextCookies() // keep this last in `plugins` array\n    ]\n})\n"],"names":[],"mappings":";;;AAAA;AAAA;AACA;AAEA;AACA;AAAA;AACA;;;;;;AAEO,MAAM,OAAO,CAAA,GAAA,kKAAA,CAAA,aAAU,AAAD,EAAE;IAC3B,UAAU,CAAA,GAAA,oLAAA,CAAA,iBAAc,AAAD,EAAE,gHAAA,CAAA,KAAE,EAAE;QACzB,UAAU;QACV,WAAW;QACX,QAAA;IACJ;IACA,SAAS;QACL,aAAa;YACT,SAAS;YACT,6BAA6B;YAC7B,kCAAkC;YAClC,0CAA0C;YAC1C,QAAQ,IAAI;QAChB;IACJ;IACA,kBAAkB;QACd,SAAS;IACb;IACA,SAAS;QACL,CAAA,GAAA,uKAAA,CAAA,cAAW,AAAD,IAAI,oCAAoC;KACrD;AACL","debugId":null}},
    {"offset": {"line": 466, "column": 0}, "map": {"version":3,"sources":["file:///Users/harryyang/hw-6-auth-and-deploy-harry-yangmath/app/api/auth/%5B...all%5D/route.ts"],"sourcesContent":["import { auth } from \"@/lib/auth\"\nimport { toNextJsHandler } from \"better-auth/next-js\"\n\nexport const { POST, GET } = toNextJsHandler(auth)\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,MAAM,EAAE,IAAI,EAAE,GAAG,EAAE,GAAG,CAAA,GAAA,uKAAA,CAAA,kBAAe,AAAD,EAAE,6GAAA,CAAA,OAAI","debugId":null}}]
}